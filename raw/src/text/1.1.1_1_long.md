---
resource: text
id: 1.1.1_1
type: long
---

If rules are involved, query-answering can take several of these steps. For answering the query `?-nearby(tottenham_court_road,W)`, we match it with the conclusion of the rule

```Prolog
nearby(X,Y):-connected(X,Y,L)
```

yielding the substitution { `X` &rarr; `tottenham_court_road`, `Y` &rarr; `W` }. We then try to find an answer for the premises of the rule under this substitution, i.e. we try to answer the query

```Prolog
?-connected(tottenham_court_road,W,L).
```

That is, we can find a station nearby Tottenham Court Road, if we can find a station directly connected to it. This second query is answered by looking at the facts for direct connections, giving the answer { `W` &rarr; `leicester_square`, `L` &rarr; `northern` }. Finally, since the variable `L` does not occur in the initial query, we just ignore it in the final answer, which becomes { `W` &rarr;
 `leicester_square` } as above. In fig. 1.2, we give a graphical representation of this process. Since we are essentially *proving* that a statement follows logically from some other statements, this graphical representation is called a *proof tree*.

{{ figure['1.2'] }}
